# =============================================================================
# NexaNest Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env files with real secrets to version control
# =============================================================================

# =============================================================================
# INFRASTRUCTURE & DEPLOYMENT
# =============================================================================
ENVIRONMENT=development
NODE_ENV=development
DEBUG=false
TESTING=false
DOCKER_REGISTRY=localhost:5000
COMPOSE_PROJECT_NAME=nexanest

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL - Main application database
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=nexanest
POSTGRES_USER=nexanest
POSTGRES_PASSWORD=your_secure_postgres_password_here

# TimescaleDB - Time-series data
TIMESCALE_HOST=localhost
TIMESCALE_PORT=5433
TIMESCALE_DB=timescale
TIMESCALE_USER=timescale
TIMESCALE_PASSWORD=your_secure_timescale_password_here

# Redis - Caching and sessions
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_DB=0

# Service-specific Database URLs
AUTH_DATABASE_URL=postgresql+asyncpg://nexanest:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/auth
PORTFOLIO_DATABASE_URL=postgresql+asyncpg://nexanest:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/portfolio
ANALYTICS_DATABASE_URL=postgresql+asyncpg://nexanest:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/analytics
NOTIFICATIONS_DATABASE_URL=postgresql+asyncpg://nexanest:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/notifications

# Service-specific Redis URLs
AUTH_REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0
PORTFOLIO_REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/1
MARKET_DATA_REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/2
CACHE_REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/3
SESSION_REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/4

# TimescaleDB URLs
TIMESCALE_URL=postgresql+asyncpg://timescale:${TIMESCALE_PASSWORD}@${TIMESCALE_HOST}:${TIMESCALE_PORT}/timescale
MARKET_DATA_TIMESCALE_URL=postgresql+asyncpg://timescale:${TIMESCALE_PASSWORD}@${TIMESCALE_HOST}:${TIMESCALE_PORT}/timescale

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
# JWT Configuration - CRITICAL: Change these in production
SECRET_KEY=your_very_secure_secret_key_minimum_32_characters_long
AUTH_SECRET_KEY=your_auth_service_secret_key_minimum_32_characters
JWT_SECRET_KEY=your_jwt_secret_key_minimum_32_characters_long
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ALGORITHM=HS256

# Encryption & Hashing
ENCRYPTION_KEY=your_32_character_encryption_key
BCRYPT_ROUNDS=12

# Session Management
SESSION_SECRET=your_secure_session_secret_here
SESSION_EXPIRE_MINUTES=1440

# =============================================================================
# EXTERNAL SERVICES & APIs
# =============================================================================
# OAuth2 Providers
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Market Data APIs
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_api_key
POLYGON_API_KEY=your_polygon_api_key
IEX_CLOUD_API_KEY=your_iex_cloud_api_key

# AI/ML Services
OPENAI_API_KEY=your_openai_api_key
ANTHROPIC_API_KEY=your_anthropic_api_key
PINECONE_API_KEY=your_pinecone_api_key
PINECONE_ENVIRONMENT=your_pinecone_environment

# =============================================================================
# NOTIFICATION SERVICES
# =============================================================================
# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_TLS=true
SMTP_USER=your_email@example.com
SMTP_PASSWORD=your_email_app_password
EMAILS_FROM_EMAIL=noreply@nexanest.com
EMAILS_FROM_NAME=NexaNest

# Push Notifications
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_PRIVATE_KEY=your_firebase_private_key
FIREBASE_CLIENT_EMAIL=your_firebase_client_email

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Metrics and Tracing
ENABLE_METRICS=true
ENABLE_TRACING=true
JAEGER_HOST=localhost
JAEGER_PORT=6831
PROMETHEUS_HOST=localhost
PROMETHEUS_PORT=9090

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================
# API Gateway (Kong)
KONG_PG_HOST=postgres
KONG_PG_USER=nexanest
KONG_PG_PASSWORD=kong_secure_password_change_me
KONG_PG_DATABASE=kong

# Service Ports
AUTH_SERVICE_PORT=8001
PORTFOLIO_SERVICE_PORT=8002
MARKET_DATA_SERVICE_PORT=8003
AI_ML_SERVICE_PORT=8004
ANALYTICS_SERVICE_PORT=8005
NOTIFICATION_SERVICE_PORT=8006
API_GATEWAY_PORT=8000

# API Configuration
API_V1_STR=/api/v1

# CORS Configuration
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# =============================================================================
# ADMIN & DEVELOPMENT
# =============================================================================
# Database Administration
PGADMIN_EMAIL=admin@nexanest.local
PGADMIN_PASSWORD=your_pgadmin_password_here

# First Superuser (for development)
FIRST_SUPERUSER=admin@nexanest.com
FIRST_SUPERUSER_PASSWORD=your_secure_admin_password_here

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# DOCKER SECRETS CONFIGURATION
# =============================================================================
# These will be overridden by Docker secrets in production
POSTGRES_PASSWORD_FILE=/run/secrets/postgres_password
TIMESCALE_PASSWORD_FILE=/run/secrets/timescale_password
REDIS_PASSWORD_FILE=/run/secrets/redis_password
JWT_SECRET_KEY_FILE=/run/secrets/jwt_secret_key
SECRET_KEY_FILE=/run/secrets/secret_key